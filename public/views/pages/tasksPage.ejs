<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tasks - Gerenciador de Tarefas</title>
    <link rel="stylesheet" href="../css/styles.css" />
  </head>
  <body>
    <% include ../components/navbar.ejs %>

    <!-- Header Section -->
    <section class="hero">
      <div class="container-navbar">
        <h1>Minhas Tarefas</h1>
        <p>
          Gerencie todas as suas atividades em um só lugar. Adicione, edite e
          categorize conforme suas necessidades.
        </p>
      </div>
    </section>

    <section class="section">
      <h2>Lista de Tarefas</h2>
      <table class="tasks-table">
        <thead>
          <tr>
            <th>Descrição</th>
            <th>Categoria</th>
            <th>Status</th>
            <th>Ações</th>
          </tr>
        </thead>
        <tbody>
          <% if (tasks.length === 0) { %>
          <tr>
            <td colspan="4" style="text-align: center">
              Nenhuma tarefa encontrada.
            </td>
          </tr>
          <% } else { %> <% tasks.forEach(task => { %>
          <tr>
            <td><%= task.description %></td>
            <td><%= task.category %></td>
            <td><%= task.completed ? 'Concluída' : 'Pendente' %></td>
            <td>
              <a href="/tasks/<%= task.id %>" class="btn-outline">Ver</a>
              <form
                action="/api/tasks/<%= task.id %>?_method=DELETE"
                method="POST"
                style="display: inline-block"
              >
                <button type="submit" class="btn-outline">Excluir</button>
              </form>
            </td>
          </tr>
          <% }) %> <% } %>
        </tbody>
      </table>

      <!-- Formulário para adicionar nova tarefa -->
      <h3>Adicionar Nova Tarefa</h3>
      <form action="/api/tasks" method="POST">
        <div class="row">
          <div class="col-6">
            <label for="description">Descrição:</label><br />
            <input
              type="text"
              name="description"
              id="description"
              placeholder="Digite a tarefa"
              required
              style="width: 100%; padding: 8px; margin-bottom: 12px"
            />
          </div>
          <div class="col-6">
            <label for="category">Categoria:</label><br />
            <input
              type="text"
              name="category"
              id="category"
              placeholder="Ex.: Trabalho, Pessoal"
              style="width: 100%; padding: 8px; margin-bottom: 12px"
            />
          </div>
        </div>
        <button type="submit" class="btn">Adicionar Tarefa</button>
      </form>
    </section>

    <!-- Pricing Section (caso tenha planos/pacotes) -->
    <section class="section">
      <h2>Planos e Preços</h2>
      <div class="pricing-grid">
        <div class="pricing-card">
          <h3>Plano Free</h3>
          <p>Até 10 tarefas ativas.</p>
          <div class="price">Grátis</div>
          <button class="btn-pricing btn-outline">Atualizar</button>
        </div>
        <div class="pricing-card">
          <h3>Plano Pro</h3>
          <p>Tarefas ilimitadas e lembretes avançados.</p>
          <div class="price">R$ 19,90/mês</div>
          <button class="btn-pricing btn">Assinar</button>
        </div>
        <!-- Adicione mais cards conforme necessário -->
      </div>
    </section>

    <!-- Features List Section (ferramentas disponíveis na Tasks Page) -->
    <section class="section">
      <h2>Funcionalidades na Página de Tarefas</h2>
      <ul>
        <li>Adicionar Tarefa</li>
        <li>Editar Tarefa</li>
        <li>Excluir Tarefa</li>
        <li>Categorizar Tarefa</li>
        <li>Filtrar por Status</li>
      </ul>
    </section>

    <!-- FAQ Section -->
    <section class="section">
      <h2>Perguntas Frequentes</h2>
      <div class="faq">
        <div class="faq-item">
          <h4>Como editar uma tarefa?</h4>
          <p>
            Para editar, clique em "Ver" ao lado da tarefa desejada, faça as
            alterações e salve.
          </p>
        </div>
        <div class="faq-item">
          <h4>Como marcar uma tarefa como concluída?</h4>
          <p>No detalhe da tarefa, clique no botão "Marcar como concluída".</p>
        </div>
        <div class="faq-item">
          <h4>Existe limite de tarefas no Plano Free?</h4>
          <p>
            Sim, o Plano Free permite até 10 tarefas ativas. Para mais, atualize
            para Plano Pro.
          </p>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="section text-center">
      <h2>Precisa de mais recursos?</h2>
      <p>
        Atualize seu plano agora e desbloqueie lembretes avançados, integração
        com calendário e muito mais.
      </p>
      <button class="btn" onclick="window.location.href='/features'">
        Ver Planos
      </button>
    </section>

    <% include ../components/footer.ejs %>
  </body>
</html>
